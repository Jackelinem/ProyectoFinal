!function(o){"use strict";function e(o,e,t,n){o=(o+"").replace(/[^0-9+\-Ee.]/g,"");var a=isFinite(+o)?+o:0,r=isFinite(+e)?Math.abs(e):0,i="undefined"==typeof n?",":n,s="undefined"==typeof t?".":t,l="",p=function(o,e){var t=Math.pow(10,e);return""+(Math.round(o*t)/t).toFixed(e)};return l=(r?p(a,r):""+Math.round(a)).split("."),l[0].length>3&&(l[0]=l[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,i)),(l[1]||"").length<r&&(l[1]=l[1]||"",l[1]+=new Array(r-l[1].length+1).join("0")),l.join(s)}function t(o){var t,n=Noo_Property.currency_position;switch(n){case"left":t="%1$s%2$s";break;case"right":t="%2$s%1$s";break;case"left_space":t="%1$s&nbsp;%2$s";break;case"right_space":t="%2$s&nbsp;%1$s"}return o=e(o,Noo_Property.num_decimals,Noo_Property.decimal_sep,Noo_Property.thousands_sep),t.replace("%1$s",Noo_Property.currency).replace("%2$s",o)}function n(e,t){o("body").find(".noo-notice-message").append('<div class="noo-notice-message-item '+t+'">'+e+"</div>"),setTimeout(function(){o("body").find(".noo-notice-message").html("")},5e3)}jQuery(document).ready(function(o){if(o("#noo-property-submit").length){o("#noo-property-submit").find(".noo-property-action").on("click","button",function(e){e.preventDefault(),o("body").append('<div class="noo-notice-message"></div>'),o("body").find(".noo-notice-message").html("");var t=o(this),a=o("#noo-property-submit").serializeArray(),r=tinyMCE.activeEditor.getContent(),i=!1;return o("#noo-property-submit").find(".noo-item-wrap").removeClass("validate-error").find(".noo-tooltip").hide(),o("#noo-property-submit").find(".noo-item-wrap").find("input.required:not([type=radio], [type=checkbox])").each(function(){var e=o(this),t=e.val();"undefined"!=typeof t&&""!=t||(e.closest(".noo-item-wrap").addClass("validate-error").find(".noo-tooltip").show(),i=!0,n(e.closest(".noo-item-wrap").find(">label").data("notice"),"error"))}),o("#noo-property-submit").find(".noo-item-wrap").find("input[type=radio].required").each(function(){var e=o(this),t=e.prop("checked");"undefined"!=typeof t&&""!=t&&"false"!==t||(e.closest(".noo-item-wrap").addClass("validate-error").find(".noo-tooltip").show(),i=!0,n(e.closest(".noo-item-wrap").find(">label").data("notice"),"error"))}),o("#noo-property-submit").find(".noo-item-wrap").find("input[type=checkbox].required").each(function(){var e=o(this);e.prop("checked")}),o("#noo-property-submit").find(".noo-item-wrap").find("select.required").each(function(){var e=o(this),t=e.find("option:selected");"undefined"!=typeof t&&""!=t&&"false"!==t||(e.closest(".noo-item-wrap").addClass("validate-error").find(".noo-tooltip").show(),i=!0,n(e.closest(".noo-item-wrap").find(">label").data("notice"),"error"))}),""===o("body").find("#set_featured").val()&&(o("#noo-item-property_photo-wrap").addClass("validate-error").find(".noo-tooltip").show(),i=!0,n(Noo_Property.notice_property_img,"error")),i?(setTimeout(function(){o("#noo-property-submit").focus()},1),void o("body").find(".noo-notice-message").find(".noo-notice-message-item").each(function(e){var t=o(this);setTimeout(function(){t.remove(),t.hide()},6e3*(e+1))})):(a.push({name:"description",value:r},{name:"action",value:"noo_submit_property"},{name:"security",value:Noo_Property.security}),o.ajax({url:Noo_Property.ajax_url,type:"POST",dataType:"html",data:a,beforeSend:function(){t.find(">i").removeClass("hide")},success:function(e){t.find(">i").addClass("hide"),e=o.parseJSON(e),"success"===e.status&&(n(e.msg,e.status),"undefined"!=typeof e.url&&""!==e.url&&(window.location.href=e.url,console.log(e.url)))}}),void o("body").find(".noo-notice-message").find(".noo-notice-message-item").each(function(){setTimeout(function(){o(this).remove()},2e3)}))});var e=function(){o("#noo-item-floor_plan_wrap-wrap .noo-clone-floor-plan").on("click",".add-floor-plan",function(e){e.preventDefault();var t=o(this),n=t.data("total"),a=o("#clone_element").clone(!0).html();a=a.replace(/\[0\]/g,"["+(n+1)+"]"),o(".content-clone").append('<div class="noo-floor-plans-wrap noo-md-12">'+a+"</div>"),t.data("total",n+1),c()})};e();var a=function(){o("body").on("click",".remove-floor-plan",function(e){e.preventDefault(),o(this).closest(".noo-floor-plans-wrap").remove()})};a()}o(".noo-box-property-slider").length>0&&o(".noo-box-property-slider").each(function(){var e=o(this),t=e.data("item");e.find(".noo-list-property").slick({slidesToShow:t,speed:300,dots:!1,arrows:!1,responsive:[{breakpoint:991,settings:{slidesToShow:1}}]}),e.find(".next-property").on("click",function(){e.find(".noo-list-property").slick("slickNext")}),e.find(".prev-property").on("click",function(){e.find(".noo-list-property").slick("slickPrev")})}),o("body").find(".noo-action-post").on("click","i",function(e){var t=o(this),n=t.data("process"),a=t.data("user"),r=t.data("id");if("edit"!==n)if(e.preventDefault(),"sharing"===n);else if("remove_favorites"===n)o.ajax({url:Noo_Property.ajax_url,type:"POST",dataType:"json",data:{action:"noo_favorites",security:Noo_Property.security,user_id:a,property_id:r,status:"is_favorites"}}).done(function(o){"ok"===o.status?(t.closest(".noo-property-item").remove(),console.log(o.msg)):alert(o.msg)}).fail(function(){console.log("error")});else if("favorites"===n){var i=t.data("status");if("add_favorites"===i)t.data("status","is_favorites");else if("is_favorites"===i)return void window.location.replace(t.data("url"));o.ajax({url:Noo_Property.ajax_url,type:"POST",dataType:"html",data:{action:"noo_favorites",security:Noo_Property.security,status:i,user_id:a,property_id:r}}).done(function(e){var e=o.parseJSON(e);"ok"===e.status?("add_favorites"===i?t.removeClass("fa-heart-o").addClass("fa-heart"):"is_favorites"===i&&t.removeClass("fa-heart").addClass("fa-heart-o"),console.log(e.msg)):alert(e.msg)}).fail(function(){console.log("error")})}else if("compare"===n){var s=t.data("thumbnail");t.data("id");o("body").find(".noo-box-compare").length<1&&o("body").append('<form method="POST" action="'+Noo_Property.url_page_compare+'" class="noo-box-compare"><div class="noo-list-compare"></div><button type="submit" name="submit-compare" class="noo-button">'+Noo_Property.button_compare+"</button></form>");var l=o("body").find(".noo-box-compare");if(l.find(".noo-box-compare-item").length>3)return void alert(Noo_Property.notice_max_compare);l.hasClass("show-compare")||l.addClass("show-compare"),l.find(".noo-list-compare").append('<div class="noo-box-compare-item">\t<div class="compare-thumbnail">\t\t<img src="'+s+'" alt="" />\t\t<i class="ion-close-circled remove-compare"></i>\t\t<input type="hidden" value="'+r+'" name="list_compare[]" />\t</div></div>').show("slow")}else if("print"===n){var p=window.open("",Noo_Property.print_label,"width=700 ,height=842");return o.ajax({url:Noo_Property.ajax_url,type:"POST",dataType:"html",data:{action:"noo_create_print",property_id:r,security:Noo_Property.security},beforeSend:function(){},success:function(o){p.document.write(o),p.document.close(),p.focus()}}),!1}}),o("body").on("click",".noo-box-compare .remove-compare",function(e){e.preventDefault(),o(this).closest(".noo-box-compare-item").remove()}),o(".noo-property-gallery").length>0&&o(".noo-property-gallery").each(function(){var e=o(this);e.find(".property-gallery-top").slick({slidesToShow:1,slidesToScroll:1,arrows:!1,fade:!0,speed:300,infinite:!0,asNavFor:e.find(".property-gallery-thumbnail-list"),adaptiveHeight:!0,arrows:!1}),e.find(".property-gallery-thumbnail-list").slick({slidesToShow:2,slidesToScroll:1,variableWidth:!0,infinite:!0,speed:300,centerMode:!0,asNavFor:e.find(".property-gallery-top"),dots:!1,focusOnSelect:!0,arrows:!1,responsive:[{breakpoint:991,settings:{centerMode:!1}}]}),e.find(".noo-arrow-next").on("click",function(){e.find(".property-gallery-top").slick("slickNext"),e.find(".property-gallery-thumbnail-list").slick("slickNext")}),e.find(".noo-arrow-back").on("click",function(){e.find(".property-gallery-top").slick("slickPrev"),e.find(".property-gallery-thumbnail-list").slick("slickPrev")})});var r=function(){o(".noo-property-floor-plan-wrap").length>0&&o(".noo-property-floor-plan-wrap").each(function(){var e=o(this);e.find(".noo-property-floor-plan-wrapper").slick({slidesToShow:1,speed:300,dots:!1,arrows:!1,responsive:[{breakpoint:768,settings:{centerMode:!0,slidesToShow:1}},{breakpoint:480,settings:{slidesToShow:1}}]}),e.find(".noo-arrow-next").on("click",function(){e.find(".noo-property-floor-plan-wrapper").slick("slickNext")}),e.find(".noo-arrow-back").on("click",function(){e.find(".noo-property-floor-plan-wrapper").slick("slickPrev")})})};r(),o(".noo-advanced-search-property-form").length>0&&o(".noo-advanced-search-property-form").each(function(){var e=o(this);o(".noo-price").length>0&&o(".noo-price").each(function(){var e=o(this),n=e.find(".price_min").data("min"),a=e.find(".price_max").data("max"),r=e.find(".price_min").val(),i=e.find(".price_max").val();e.find(".price-slider-range").slider({range:!0,animate:!0,min:n,max:a,values:[r,i],create:function(){o(this).find(".ui-slider-handle")},slide:function(n,a){o(this).find(".ui-slider-handle");a.value==a.values[0]&&(e.find("input.price_min").val(a.values[0]).trigger("change"),e.find(".price-results").find(".min-price").html(t(a.values[0]))),a.value==a.values[1]&&(e.find("input.price_max").val(a.values[1]).trigger("change"),e.find(".price-results").find(".max-price").html(t(a.values[1])))}})}),o(".noo-area").length>0&&o(".noo-area").each(function(){var e=o(this),t=e.find(".area_min").data("min"),n=e.find(".area_max").data("max"),a=e.find(".area_min").val(),r=e.find(".area_max").val();e.find(".area-slider-range").slider({range:!0,animate:!0,min:t,max:n,values:[a,r],create:function(){o(this).find(".ui-slider-handle")},slide:function(t,n){o(this).find(".ui-slider-handle");n.value==n.values[0]&&(e.find("input.area_min").val(n.values[0]).trigger("change"),e.find(".area-results").find(".min-area").html(n.values[0]+" "+Noo_Property.area_unit)),n.value==n.values[1]&&(e.find("input.area_max").val(n.values[1]).trigger("change"),e.find(".area-results").find(".max-area").html(n.values[1]+" "+Noo_Property.area_unit))}})}),o(".box-show-features").length>0&&o(".box-show-features").each(function(){var t=o(this);t.on("click",".show-features",function(o){o.preventDefault(),e.find(".noo-box-features").slideToggle("slow")})})}),o(".noo-tooltip").length>0&&o(".noo-tooltip").each(function(){var e=o(this),t=e.data("content");e.qtip({content:t})}),o(".noo-tooltip-action").length>0&&o(".noo-tooltip-action").each(function(){var e=o(this),t=e.data("content");e.qtip({content:t,position:{my:"bottom center",at:"top center"}})}),o(".noo-chosen").chosen({width:"100%",allow_single_deselect:!0,no_results_text:"Oops, nothing found!"});var i=function(){o(".noo-recent-property").length>0&&o(".noo-recent-property").find(".noo-list-property").each(function(){var e=o(this),t=o(this).closest(".noo-recent-property"),n=t.data("style"),a=t.data("row"),r=t.data("column"),i=30;"style-3"===n&&(i=10),"style-4"===n&&(i=5),"style-4"===n?e.slick({dots:!0,arrows:!1,infinite:!0,slidesToShow:r,slidesToScroll:r,rows:a,centerPadding:0,adaptiveHeight:!0,responsive:[{breakpoint:1024,settings:{slidesToShow:1,slidesToScroll:1,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:1,slidesToScroll:1}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]}):(e.slick({dots:!1,arrows:!1,infinite:!0,slidesToShow:r,slidesToScroll:r,rows:a,centerPadding:0,adaptiveHeight:!0,responsive:[{breakpoint:1024,settings:{slidesToShow:1,slidesToScroll:1}},{breakpoint:600,settings:{slidesToShow:1,slidesToScroll:1}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]}),t.find(".next-property").on("click",function(){e.slick("slickNext")}),t.find(".prev-property").on("click",function(){e.slick("slickPrev")}))})};i();var s=function(){o(".noo-floor-plan").length>0&&o(".noo-floor-plan").each(function(){var e=o(this);e.find(".noo-tab").on("click","> span",function(t){t.preventDefault();var n=o(this),a=n.data("class");e.find(".noo-tab > span").removeClass("active"),n.addClass("active"),e.find(".content-tab").hide().removeClass("show"),e.find("."+a).slideToggle("300")})})};s();var l=function(){o(".noo-box-results-search").length>0&&o(".noo-box-results-search").each(function(){var e=o(this);e.find(".save").click(function(){var e=o(this),t=e.data("search");o.ajax({url:Noo_Property.ajax_url,type:"POST",dataType:"html",data:{action:"noo_save_search",security:Noo_Property.security,results:t},beforeSend:function(){e.find("> i").removeClass("ion-ios-download-outline").addClass("fa fa-spinner fa-spin")},success:function(t){t=o.parseJSON(t),"success"===t.status?e.find("> i").removeClass("fa fa-spinner fa-spin").addClass("ion-ios-download-outline"):alert("Error")}})})})};l();var p=function(){o(".user-saved-search").length>0&&o(".user-saved-search").each(function(){var e=o(this);e.find(".noo-saved-search-item").on("click",".remove-search",function(t){t.preventDefault();var n=o(this),a=n.data("position_item");o.ajax({url:Noo_Property.ajax_url,type:"POST",dataType:"html",data:{action:"noo_remove_saved_search",security:Noo_Property.security,position_item:a},beforeSend:function(){n.find("> i").removeClass("fa-remove").addClass("fa-spinner fa-spin")},success:function(t){n.find("> i").removeClass("fa-spinner fa-spin").addClass("fa-remove"),t=o.parseJSON(t),"success"===t.status?e.find(".noo-saved-search-item").remove():alert("Error")}})})})};p();var d=function(){o("body").on("change",".noo-switch-floor-plan",function(e){e.preventDefault();var t=o(this),n=t.val(),a=t.data("property-id");o.ajax({url:Noo_Property.ajax_url,type:"POST",dataType:"html",data:{action:"noo_load_floor_plan",security:Noo_Property.security,index:n,property_id:a},beforeSend:function(){t.closest(".noo-property-floor-plan-wrap").find(".noo-property-floor-plan-item").addClass("show")},success:function(o){t.closest(".noo-property-floor-plan-wrap").find(".noo-property-floor-plan-item").removeClass("show"),t.closest(".noo-property-floor-plan-wrap").find(".noo-floor-plans-content").html(o),r()}})})};d();var c=function(){o("body").find(".noo-upload").length>0&&o("body").find(".noo-upload").each(function(){var e=o(this),t=e.data("browse_button"),n=e.data("id_wrap"),a=e.data("name"),r=e.data("allow_format"),i=e.data("multi_input"),s=e.data("multi_upload"),l=e.data("set_featured"),p=e.data("drop_element"),d=e.data("slider");e.noo_upload_form({browse_button:!!t&&t,container:!!n&&n,name:!!a&&a,allow_format:!!r&&r,multi_input:!!i&&i,multi_upload:!!s&&s,set_featured:!!l&&l,drop_element:!!p&&p,slider:!!d&&d})})};c()})}(jQuery);